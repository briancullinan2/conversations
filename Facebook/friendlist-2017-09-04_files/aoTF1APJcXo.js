if (self.CavalryLogger) { CavalryLogger.start_js(["0aLFy"]); }

__d('EmployeePrefs',['Dock','DOM','Event','Keys','MenuDeprecated','NubController','Parent','URI','goURI'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('NubController'));i=h&&h.prototype;j.prototype.init=function(k,l){'use strict';i.init.call(this,k);this.menu=l;c('Dock').registerNubController(k,this);c('Event').listen(k,'keydown',function(event){var m=c('Event').getKeyCode(event)||event.which;switch(m){case c('Keys').UP:case c('Keys').DOWN:var n=c('Parent').byClass(event.getTarget(),'fbNubButton');if(n){this.show();var o=c('MenuDeprecated').getItems(l);c('MenuDeprecated').focusItem(o[m===c('Keys').UP?o.length-1:0]);return false}break;case c('Keys').ESC:this.hide();setTimeout(function(){c('DOM').find(k,'a.fbNubButton').focus()},0);break;}}.bind(this));this.subscribe('show',this.onShow.bind(this));this.subscribe('hide',this.onHide.bind(this));this.buttonContentChanged()};j.prototype.onShow=function(){'use strict';c('MenuDeprecated').register(this.menu)};j.prototype.onHide=function(){'use strict';c('MenuDeprecated').unregister(this.menu)};j.prototype.getSamePageURLOnNewTier=function(k,l){'use strict';var m='www'+(l?'.'+l:'')+'.facebook.com';return new (c('URI'))(window.location.href).setProtocol(k.getProtocol()).setDomain(m).setSubdomain(k.getSubdomain()).setPath(k.getPath()).setQueryData(k.getQueryData()).setFragment(k.getFragment())};j.prototype.goToTier=function(k){'use strict';c('goURI')(this.getSamePageURLOnNewTier(c('URI').getRequestURI(),k));return false};function j(){'use strict';h.apply(this,arguments)}f.exports=j}),null);
__d('EmployeePrefsNub',['Cookie','EmployeePrefs','Event'],(function a(b,c,d,e,f,g){'use strict';function h(j){var k=j.nubRoot,l=j.menu,m=j.viewTheSiteIn,n=new (c('EmployeePrefs'))();n.init(k,l);Array.from(m.el.querySelectorAll('[data-tierid]')).forEach(function(o){var p=o.dataset.tierid,q=m.data.get(p);if(q)c('Event').listen(o,'click',function(r){return n.goToTier(q.target_tier)});})}var i={init:h};f.exports=i}),null);
__d('FBTraceHelper',['Arbiter','CSS','Event','URI'],(function a(b,c,d,e,f,g){var h={refreshPageWithFBTraceOn:function i(){var j=new (c('URI'))();j.addQueryData('fbtrace',1);j.go(true)},registerButtons:function i(j,k,l){c('Event').listen(k,'click',this.refreshPageWithFBTraceOn);if(l)this._registerTransitionCallback(j,k);},_transitionCallback:function i(j,k){c('CSS').hide(j);c('CSS').show(k)},_registerTransitionCallback:function i(j,k){c('Arbiter').subscribeOnce('page_transition',function(){h._transitionCallback(j,k)})}};f.exports=h}),null);
__d('TailorNubHelper',['Promise','AsyncRequest','CSS','DOM','Event','PageTransitions','SimpleXUIDialog','URI','forEachObject','ge'],(function a(b,c,d,e,f,g){'use strict';var h=[],i={},j={},k=true,l=false,m=false;function n(){var p=window.location.hostname,q=p.match(/\.[^.]+\.sb\.facebook\.com/),r=q?q[0]:'.intern.facebook.com';return 'our'+r}var o={registerCycleStages:function p(q,r,s,t){i[r]=t;c('forEachObject')(s,function(u,v){c('Event').listen(u,'click',function(){o.switchStage(q,r,v)})});o.init()},init:function p(){if(!k){o.showElementWithIDIfExist('fbTailorNub');Object.keys(j).forEach(o.showCycle)}m=true},markCycleAsInUse:function p(q){if(j[q])return;if(k){if(m)o.showElementWithIDIfExist('fbTailorNub');k=false}j[q]=true;if(m)o.showCycle(q);},showCycle:function p(q){o.showElementWithIDIfExist('tailorNubIcon-'+q);o.showElementWithIDIfExist('tailorNubMenu-'+q)},showElementWithIDIfExist:function p(q){var r=c('ge')(q);if(r)r.style.display='inline-block';},switchStage:function p(q,r,s){c('Promise').all(h.map(function(t){return t(q,r,s)})).then(function(t){var u=t.reverse().find(function(x){return x!==null});if(!u)u=c('PageTransitions').getMostRecentURI();if(typeof u==='string')u=new (c('URI'))(u);if(!u.getDomain())u.setDomain(window.location.hostname);if(!u.getProtocol())u.setProtocol('https');var v=new (c('URI'))('/intern/tailor/switch').setDomain(n()).setProtocol('https'),w=u;new (c('AsyncRequest'))().setAllowCrossOrigin(true).setURI(v).setMethod('POST').setData({cycle:r,stage:s}).setHandler(function(x){w.go(true)}).setErrorHandler(function(x){c('SimpleXUIDialog').show('It was not possible to change stage, '+'be sure to have access to intern.','Error')}).send()}).done()},registerHideNubsButtons:function p(q,r){c('Event').listen(q,'click',o.toggleOtherNubs);c('Event').listen(r,'click',o.hideAllNubs)},toggleOtherNubs:function p(){var q=c('ge')('pagelet_dock'),r=c('DOM').scry(q,'.fbNub');r.forEach(function(s){if(s.id!=='fbTailorNub')if(l){c('CSS').show(s)}else c('CSS').hide(s);});l=!l},hideAllNubs:function p(){var q=c('ge')('pagelet_dock');if(q)c('CSS').hide(q);},getCurrentStageID:function p(q){return i[q]},registerSwitchCallback:function p(q){h.push(q)}};f.exports=o}),null);
__d('LayerHideOnSuccess',[],(function a(b,c,d,e,f,g){function h(i){'use strict';this._layer=i}h.prototype.enable=function(){'use strict';this._subscription=this._layer.subscribe('success',this._layer.hide.bind(this._layer))};h.prototype.disable=function(){'use strict';if(this._subscription){this._subscription.unsubscribe();this._subscription=null}};Object.assign(h.prototype,{_subscription:null});f.exports=h}),null);