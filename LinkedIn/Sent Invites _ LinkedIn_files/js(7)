(function(){var l=LIModules.requires("BaseControl"),h=LIModules.imports("Bidi"),f=LIModules.requires("jquery"),g=LIModules.requires("underscore"),l=l.extend(function(l){var p,m,n,q,r=f(document),k=f(window);n={animation:"animationend",webkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oanimationend"};p={TOP:"fade-in-down",BOTTOM:"fade-in-up",RIGHT:"fade-in-left",LEFT:"fade-in-right"};q={delayOpen:50,delayClose:250,doAnimate:!0,direction:"bottom",isFlippable:!0,offsetExtra:5,
offsetX:0,offsetY:0,type:"tooltip",width:"auto",tooltipContentID:null,dependencies:["scripts/shared/Bidi"],cssDependencies:["css!scss/modules/tooltip"]};m=function(){var a=document.body,b;for(b in n)if("undefined"!==typeof a.style[b])return n[b]}();return{beforeDecoration:function(){var a=this._$el;this._config=g.defaults(this._config,q);g.isUndefined(a.attr("tabIndex"))&&a.attr("tabIndex",0)},attachEventListeners:function(){this._$el.on("mouseover focus",this._setTriggerMouseover).on("mouseout blur",
this._removeTriggerMouseover)},_attachTooltipListeners:function(){this.$overlay.on("mouseover",this._setTooltipMouseover).on("mouseout",this._removeTooltipMouseover)},_attachOpenListeners:function(){r.on("keydown",this._closeIfEscapeKey)},_setTriggerMouseover:function(){this.isMouseoverTrigger=!0;this.open()},_removeTriggerMouseover:function(){this.isMouseoverTrigger=!1;this.close()},_setTooltipMouseover:function(){this.isMouseoverTooltip=!0},_removeTooltipMouseover:function(){this.isMouseoverTooltip=
!1;this.close()},_closeIfEscapeKey:function(a){27===a.which&&this._hideTooltip()},detachEventListeners:function(){this._$el.off("mouseover focus",this._setTriggerMouseover).off("mouseout blur",this._removeTriggerMouseover);this.$overlay&&this.$overlay.off("mouseover",this._setTooltipMouseover).off("mouseout",this._removeTooltipMouseover);this._detachOpenListeners()},_detachOpenListeners:function(){r.off("keydown",this._closeIfEscapeKey)},destroy:function(){this.detachEventListeners();this.$overlay&&
this.$overlay.remove()},_loadCss:function(){return this.loadCss(this._config.cssDependencies)},open:function(){var a;if(this._isOpening&&"pending"===this._isOpening.state())return this._isOpening.promise();this._isOpening=a=new f.Deferred;this.$overlay?this._open().then(a.resolve,a.reject):this._loadCss().then(this._onFirstOpen).then(this._open).then(a.resolve,a.reject);return a.then(g.bind(this._attachOpenListeners,this)).promise()},_open:function(){var a=new f.Deferred,b=this;if(!1===this.isMouseoverTrigger)return a.reject(Error("User is no long hovering.")).promise();
this.showTimer?a.reject(Error("Tooltip already showing.")):this.showTimer=g.delay(function(){b._showTooltip().then(a.resolve)},this._config.delayOpen);return a.promise()},_onFirstOpen:function(){var a=this._config;h&&(a.offsetX=h.flip(a.offsetX,-a.offsetX));this.createOverlay();this.setContent();this.isCreating=!1},_showTooltip:function(){var a=new f.Deferred,b=this._config,c=this.$overlay,d=this;this.currentDirection=b.direction;c.addClass("shown").appendTo(f("body"));this.calculatePosition();b.isFlippable&&
this._setTooltipStyling(c);if(m&&b.doAnimate)c.one(m,function(){a.resolve(d)});else a.resolve(this);return a.promise()},close:function(){var a=new f.Deferred,b=this;this.showTimer&&this._isOpening&&"pending"===this._isOpening.state()&&(clearTimeout(this.showTimer),this._isOpening.reject(Error("Tooltip closed before it fully opened.")));g.delay(function(){b._close().then(a.resolve,a.reject)},this._config.delayClose);return a.then(this._detachOpenListeners).promise()},_close:function(){var a=new f.Deferred;
this.isMouseoverTooltip||this.isMouseoverTrigger?a.reject(Error("User is interacting with tooltip.")):(this._hideTooltip(),a.resolve(this));return a.promise()},_hideTooltip:function(){this.showTimer=null;this.$overlay&&this.$overlay.removeClass("shown").detach()},createOverlay:function(){var a=f("\x3cdiv/\x3e").attr("id","tooltip-overlay"),b=f("\x3cspan/\x3e").addClass("tooltip-arrow");a.append(b);this._setTooltipStyling(a);this.$overlay=a;this._attachTooltipListeners()},setContent:function(){var a=
f("\x3cdiv/\x3e").addClass("tooltip-content"),b=this._setContent();this._addAccessibility(b);a.append(b);this.$overlay.prepend(a)},_setContent:function(){var a=null,b;this._config.tooltipContentID&&(a=f("#"+this._config.tooltipContentID),b=a.parent(),b.hasClass("tooltip-content-container")&&1===b.children().length&&b.remove());return a},_addAccessibility:function(a){var b=this._$el.attr("aria-describedby"),c=a.attr("role");g.isUndefined(b)&&this._$el.attr("aria-describedby",this._config.tooltipContentID);
g.isUndefined(c)&&a.attr("role","tooltip")},_setTooltipStyling:function(a){var b=this._config,c=this.currentDirection||b.direction,d=b.doAnimate,e=[b.type,"tooltip-"+c];a.removeClass();b.overlayClasses&&e.push(b.overlayClasses);a.addClass(e.join(" ")).css({width:b.width});this.showTimer&&a.addClass("shown");d&&a.addClass("animated "+p[c.toUpperCase()])},_isFlippable:function(a){return this._config.isFlippable&&!a},_isAboveViewport:function(a){return a<k.scrollTop()},_isBelowViewport:function(a){return a>
k.height()+k.scrollTop()},_isLeftOfViewport:function(a){return a<k.scrollLeft()},_isRightOfViewport:function(a){return a>k.width()+k.scrollLeft()},calculatePosition:function(){var a={},a=this._config,b=this._$el.offset(),c=b.top,b=b.left,d=h&&h.flip("right","left")||"right",e=h&&h.flip("left","right")||"left";this.currentTop=c;this.currentLeft=b;switch(a.direction){case "bottom":a=this.calculateBottom();break;case "top":a=this.calculateTop();break;case d:a=this.calculateRight();break;case e:a=this.calculateLeft();
break;default:a=this.calculateBottom()}this.$overlay.css(a);return a},calculateBottom:function(a){var b=this._config,c=this.$overlay,d=this._$el,e;a=a||!1;e=c.outerHeight()+b.offsetExtra;d=d.outerWidth()/2;c=c.outerWidth()/2;e=this.currentTop-e+b.offsetY;b=this.currentLeft-c+d+b.offsetX;b=this._leftOfViewportAdjustment(b);return this._isFlippable(a)&&this._isAboveViewport(e)?(this.currentDirection="top",this.calculateTop(!0)):{top:e,left:b}},calculateTop:function(a){var b=this._config,c=this.$overlay,
d=this._$el,e,f;a=a||!1;e=d.outerHeight()+b.offsetExtra;f=d.outerWidth()/2;d=c.outerWidth()/2;e=this.currentTop+e+b.offsetY;b=this.currentLeft-d+f+b.offsetX;c=e+c.outerHeight();b=this._leftOfViewportAdjustment(b);return this._isFlippable(a)&&this._isBelowViewport(c)?(this.currentDirection="bottom",this.calculateBottom(!0)):{top:e,left:b}},_leftOfViewportAdjustment:function(a){var b=f(this.$overlay.children(".tooltip-arrow")[0]),c=a,d=this._$el;this._isLeftOfViewport(a)?(b.css("left",d.outerWidth()+
a/2),c=5):b.css("left",this.$overlay.outerWidth()/2);return c},calculateLeft:function(a){var b=this._config,c=this.$overlay,d=this._$el,e,f;a=a||!1;e=d.outerWidth()+b.offsetExtra;f=d.outerHeight()/2;d=c.outerHeight()/2;d=this.currentTop-d+f+b.offsetY;b=this.currentLeft+e+b.offsetX;c=b+c.outerWidth();return this._isFlippable(a)&&this._isRightOfViewport(c)?(this.currentDirection="right",this.calculateRight(!0)):{top:d,left:b}},calculateRight:function(a){var b=this._config,c=this.$overlay,d=this._$el,
e;a=a||!1;e=c.outerWidth()+b.offsetExtra;d=d.outerHeight()/2;c=c.outerHeight()/2;c=this.currentTop-c+d+b.offsetY;b=this.currentLeft-e+b.offsetX;return this._isFlippable(a)&&this._isLeftOfViewport(b)?(this.currentDirection="left",this.calculateLeft(!0)):{top:c,left:b}}}});LIModules.exports("Tooltip",l)})();(function(a){var b=a.requires("jquery"),c=a.requires("underscore"),l=a.requires("dust");a.imports("Controls");var e=a.requires("BaseControl"),p=a.requires("i18n"),q=a.imports("Controls.parseFragment")||function(){},h=a.imports("environment"),n=a.imports("LiX"),m=a.imports("jSecure"),f=null,r=function(b){f&&"function"===typeof f&&f();f=b},k=function(){},e=e.extend(function(a){function e(){for(var g=[{key:"errorMessage",value:"dialogbox_error_generic"},{key:"closeText",value:"dialogbox_close"},{key:"startText",
value:"dialogbox_start"},{key:"endText",value:"dialogbox_end"}],b=g.length,d=0,a={},c="";d<b;d++)(c=p.get(g[d].value))&&(a[g[d].key]=c);return a}var f={width:500,top:150,xOffset:0,yOffset:0,errorMessage:"We're sorry. Something unexpected happened and your request could not be completed. Please try again.",closeText:"Close",startText:"Dialog start",endText:"Dialog end",customClassName:void 0,dialogTemplate:"tl/shared/dialog",dialogCss:h&&h.consumer2?["css!scss/modules/dialog/dialog_standalone"]:["css!scss/modules/dialog_v3"],
cssDependencies:null,templateDataUrl:null,centerVertically:!1,fitDialogBoxToWindow:!0,callbacks:{beforeOpen:k,afterOpen:k,beforeClose:k,afterClose:k}};return{beforeDecoration:function(){this._$dialog=void 0;this._config=c.defaults(this._config,e(),f);this._config.callbacks=c.defaults(this._config.callbacks,f.callbacks);this._requiredTemplates=[this._config.dialogTemplate];this._requiredCSS=c.flatten(c.compact([this._config.dialogCss,this._config.cssDependencies]));this._href=this._config.templateDataUrl||
this._$el.data("href")||this._$el.attr("href")},attachEventListeners:function(){this._$el.on("click",c.bind(this._eventOpen,this))},detachEventListeners:function(){this._$el.off("click")},onResolve:function(b){this.open()},_eventOpen:function(b){b.preventDefault();this.open()},_eventClose:function(b){b.preventDefault();this.close()},_keyupHandler:function(b){27===b.which&&this._eventClose(b)},_resizeHandler:c.throttle(function(b){this._$dialog&&this._$dialog.length&&(this._$dialog.css(this._getPosition()),
this._fitToWindow())},500),_attachEventListeners:function(){this._$dialog.on("click",".dialog-close",this._eventClose);b(document).on("keyup",this._keyupHandler);b(window).on("resize",this._resizeHandler)},open:function(){if(!this._opened)return this._config.callbacks.beforeOpen(this),this._opened=!0,b.when(this.loadDependencies(this._requiredTemplates),this.loadCss(this._requiredCSS)).then(r(c.bind(this.close,this))).then(c.bind(this._render,this)).then(c.bind(this.setFocusToDialog,this)).then(c.bind(function(){this._config.callbacks.afterOpen(this)},
this)).fail(c.bind(this.close,this))},close:function(){this._opened&&this._config.callbacks.beforeClose(this);this._$dialog&&this._$dialog.remove();this._rendered=!1;b(document).off("keyup",this._keyupHandler);b(window).off("resize",this._resizeHandler);this._opened&&(this._opened=!1,this._$el.focus(),this._config.callbacks.afterClose(this))},destroy:function(){this.close();this.detachEventListeners();a.destroy.apply(this,arguments)},setFocusToDialog:function(){this._$dialog.attr("tabindex",-1);this._$dialog.focus()},
_loadContent:function(){var g=b(this._href),a=g.html(),d=new b.Deferred;g[0]||!this._href?d.resolve(a):d.reject();return d.promise()},_buildMarkup:function(){return this._renderDialogMarkup().then(this._renderMarkUpSuccess,this._renderMarkUpFailure)},_renderMarkUpSuccess:function(a){this._$dialog=b(a).prop("id","modeless-dialog");this._config.customClassName&&this._$dialog.addClass(this._config.customClassName);b("body").append(this._$dialog);this._$dialog.css(this._getPosition());this._rendered=
!0},_renderMarkUpFailure:function(){throw Error("Unable to render dialog markup");},_loadContentSuccess:function(b){this.setDialogBodyContent(b)},_loadContentFail:function(){this.setDialogBodyContent(this._config.errorMessage)},setDialogBodyContent:function(a,c){var d=this._$dialog.find(".dialog-body")[0];c=c||{};var h=m&&m.setElementContent;!c.isUnsafe&&n&&"enabled"===n.get("jsecure_Dialog")&&h?m.setElementContent(d,a,{}):b(d).html(a);q(this._$dialog);this._$dialog.css(this._getPosition());this._fitToWindow()},
_render:function(){return this._buildMarkup().then(this._loadContent).then(this._loadContentSuccess,this._loadContentFail).always(this._attachEventListeners)},_renderDialogMarkup:function(){var a=new b.Deferred;l.render(this._config.dialogTemplate,this._config,function(b,c){b?a.reject(b):a.resolve(c)});return a.promise()},_getPosition:function(){var a=b(window),c=this._config.top,d=a.innerWidth()/2-this._config.width/2+this._config.xOffset;this._config.centerVertically&&(c=a.innerHeight()/2-this._$dialog.outerHeight()/
2+this._config.yOffset,c=Math.max(c,this._config.top));return{left:d,top:c}},_fitToWindow:function(){var a=b(window).innerHeight()-this._config.top-50,c=this._$dialog.find(".dialog-title").outerHeight(),d;d=this._$dialog.clone().css("visibility","hidden");d.find(".dialog-body").height("auto");b("body").append(d);d.height()>a&&this._config.fitDialogBoxToWindow?this._$dialog.find(".dialog-body").height(a-c):this._$dialog.find(".dialog-body").height("auto");d.remove()}}});a.exports("DialogBox",e)})(window.LIModules);
(function(a){var b=a.requires("jquery"),c=a.requires("underscore"),l=a.requires("dust"),e=a.requires("DialogBox").extend(function(a){var e={maskTemplate:"tl/shared/dialog_mask",fitToWindow:!0,closeOnMaskClick:!0};return{beforeDecoration:function(){a.beforeDecoration.call(this);this._config=c.defaults(this._config,e);this._requiredTemplates=[this._config.maskTemplate,this._config.dialogTemplate];this._requiredCSS=c.flatten(c.compact([this._config.dialogCss,this._config.cssDependencies]));this._initialHtmlOverflowValue=
this._$mask=void 0;this._config.fitToWindow||(this._fitToWindow=function(){})},_maskClickHandler:function(a){b(a.target).is("#dialog-mask")&&this._eventClose(a)},_attachEventListeners:function(){a._attachEventListeners.call(this);if(this._config.closeOnMaskClick)this._$mask.on("click",this._maskClickHandler);b(document).on("focusin",this._trapFocus)},close:function(){this._opened&&this._config.callbacks.beforeClose(this);this._$mask&&this._$mask.remove();b(document).off("keyup",this._keyupHandler);
b(window).off("resize",this._resizeHandler);b("html").css({overflow:this._initialHtmlOverflowValue});this._rendered=!1;this._opened&&(this._opened=!1,this._$el.focus(),this._config.callbacks.afterClose(this))},_buildMarkup:function(){return b.when(this._renderMaskMarkup(),this._renderDialogMarkup()).then(this._renderMarkUpSuccess,this._renderMarkUpFailure)},_renderMarkUpSuccess:function(a,c){this._$mask=b(a);this._$dialog=b(c);this._$mask.append(this._$dialog);this._config.fitToWindow||this._$mask.css({"overflow-y":"auto"});
b("body").append(this._$mask);this._$dialog.css(this._getPosition());this._rendered=!0},_render:function(){this._initialHtmlOverflowValue=b("html").css("overflow");b("html").css({overflow:"hidden"});return this._buildMarkup().then(this._loadContent).then(this._loadContentSuccess,this._loadContentFail).always(this._attachEventListeners)},_renderMaskMarkup:function(){var a=new b.Deferred;l.render(this._config.maskTemplate,this._config,function(b,c){b?a.reject(b):a.resolve(c)});return a.promise()},_trapFocus:function(a){a.stopPropagation();
if(this._opened){if(this._$dialog.is(b(a.target))||0<this._$dialog.has(b(a.target)).length)return!1;this._$dialog.focus()}}}});a.exports("ModalDialogBox",e)})(window.LIModules);(function(b){var c=b.requires("jquery");b.exports("Spinner",{showSpinner:function(a){0===a.children(".spinner").length?a.append(c('\x3cdiv class\x3d"spinner"\x3e\x3c/div\x3e')).children(".spinner").height(a.prop("scrollHeight")):a.children(".spinner").show().height(a.prop("scrollHeight"))},hideSpinner:function(a){a.children(".spinner").hide()}})})(window.LIModules);(function(c){var e=c.requires("jquery"),d=c.requires("BaseControl"),f=c.requires("underscore"),g=c.requires("Events"),d=d.extend(function(c){var d={activeClass:"active",eventType:"click",mercyTime:400,triggerSelector:null,dropdownMenuClass:"dropdown",focusClass:null};return{beforeDecoration:function(){this._$document=e(document);this._mouseoutTimer=0;this._config=e.extend({},d,this._config);this._isOpen=!1;this._$listItems=[];this._$trigger={};this._$dropMenu={};this._currentItemIndex=-1;this.isMouseEvent=
!1;this._config.triggerSelector?this._$trigger=this._$el.find(this._config.triggerSelector):(this._$trigger=this._$el.children("a"),0===this._$trigger.length&&(this._$trigger=this._$el.children("button")));this._isLegalEl=this._$trigger.length?this._$trigger.is('a, button, input[type\x3d"button"]'):!1;this._$dropMenu=this._$trigger.next();this._populateListItems();this._bootstrapAria()},attachEventListeners:function(){if("hover"===this._config.eventType)this._$el.on("mouseover",this._handleMouseOverEvent).on("mouseout",
this._handleMouseOutEvent);this._$trigger.on("click.li-dropdown",this._handleClickEvent).on("mouseup",f.bind(this._setMouseUser,this,!0));this._$el.on("keydown",this._handleKeyEvent);if(this._config.focusClass)this._$el.on("focusin",this._handleElFocusInEvent).on("focusout",this._handleElFocusOutEvent);g.on("dropdown:newitems",this.bootstrapNewItems)},_bootstrapAria:function(){this._$trigger.attr({tabindex:0,role:"button","aria-expanded":!1});this._bootstrapListItems();this._$dropMenu.attr("tabindex",
-1)},_bootstrapListItems:function(){this._$listItems.attr("tabindex",0)},bootstrapNewItems:function(a){this._populateListItems();this._bootstrapListItems()},_setMouseUser:function(a){this.isMouseEvent=a},_populateListItems:function(){this._$listItems=this._$dropMenu.find("li, dd, dt")},_handleBodyClick:function(a){this._isOpen&&0===this._$el.has(a.target).length&&(this._setMouseUser(!0),this.close())},_focusNext:function(){var a=this._$listItems.length;a&&(this._currentItemIndex<a-1?this._currentItemIndex++:
this._currentItemIndex=0,this._$listItems[this._currentItemIndex].focus())},_focusPrevious:function(){var a=this._$listItems.length;a&&(0<this._currentItemIndex?this._currentItemIndex--:this._currentItemIndex=a-1,this._$listItems[this._currentItemIndex].focus())},_handleKeyEvent:function(a){var b=a.target;switch(a.which){case 13:!this._isLegalEl&&e(b).is(this._$trigger)&&this._$trigger.click();break;case 32:!this._isLegalEl&&e(b).is(this._$trigger)&&(a.preventDefault(),this._$trigger.click());break;
case 27:this._isOpen&&this.close();break;case 40:a.preventDefault();this._focusNext();break;case 38:a.preventDefault(),this._focusPrevious()}},open:function(a){var b=this._config.activeClass;if(!this._isOpen&&(this._$el.addClass(b),this._$trigger.attr("aria-expanded",!0),this.isMouseEvent||this._$dropMenu.focus(),this._$el.trigger("dropdown:open",this),this._isOpen=!0,"li-dropdown"!==a))this._$document.on("click",this._handleBodyClick)},close:function(a){this._isOpen&&(this._$el.removeClass(this._config.activeClass),
this._$trigger.attr("aria-expanded",!1),this._mouseoutTimer&&window.clearTimeout(this._mouseoutTimer),this.isMouseEvent||this._$trigger.focus(),this._$el.trigger("dropdown:close",this),this._isOpen=!1,this._currentItemIndex=-1,this._setMouseUser(!1),"li-dropdown"!==a&&this._$document.off("click",this._handleBodyClick))},_handleElFocusInEvent:function(a){this._$el.addClass(this._config.focusClass)},_handleElFocusOutEvent:function(a){this._$el.removeClass(this._config.focusClass)},_handleClickEvent:function(a){var b;
if("hover"===this._config.eventType&&(b=a.target.href)&&0!==b.indexOf("#"))return;a.preventDefault();a.stopPropagation();this._isOpen?this.close(a.namespace):this.open(a.namespace)},_handleMouseOverEvent:function(a){this._setMouseUser(!0);window.clearTimeout(this._mouseoutTimer);this.open()},_handleMouseOutEvent:function(a){a=this._config.mercyTime;var b=this;0<a?this._mouseoutTimer=window.setTimeout(function(){b.close()},a):b.close()}}});d.EVENTS={OPEN:"dropdown:open",CLOSE:"dropdown:close",NEW:"dropdown:newitems"};
c.exports("Dropdown",d)})(window.LIModules);(function(d){var e=d.requires("jquery"),g=d.requires("underscore"),h=d.requires("BaseControl"),f=d.requires("Events"),h=h.extend(function(){var d={debounceWait:250,bindToWindow:!0,throttle:!1,throttleRate:1E3/60};return{beforeDecoration:function(){this.registry={};this._config=g.defaults(this._config,d);this._config.bindToWindow&&(this._$el=e(window))},afterDecoration:function(){var b=this._config.bindToWindow,a=b?"window":this._config.id,c=this._$el[0],d;this.elId=a;this.registry[a]={evtName:a+"-scroll",
scrollPos:this._getScrollPos(a)};d=this.registry[a];d.prevScrollPos=d.scrollPos;b?d.elHeight=e(window).height():(d.elHeight=c.offsetHeight,d.contentEl=this._$el.children(":first")[0]);if(this._config.throttle)this._$el.on("scroll.scoller",g.throttle(function(){f.trigger("scroll.scoller",a)},this._config.throttleRate));else this._$el.on("scroll.scoller",g.debounce(function(){f.trigger("scroll.scoller",a)},this._config.debounceWait));f.on("scroll.scoller",this._scrolled)},getEvtName:function(){return this.registry[this.elId].evtName},
_getDistToBottom:function(b,a,c){return b-(a+c)},_getScrollPos:function(b){return this._config.bindToWindow?e(document).scrollTop():e("#"+b).scrollTop()},_getScrollDirection:function(b,a){return b>a?"up":"down"},_scrolled:function(b){var a,c=this.registry[b];"undefined"!==typeof c&&(a=this._config.bindToWindow?e(document).height():c.contentEl.offsetHeight,c.prevScrollPos=c.scrollPos,c.scrollPos=this._getScrollPos(b),b=this._getDistToBottom(a,c.scrollPos,c.elHeight),a=this._getScrollDirection(c.prevScrollPos,
c.scrollPos),f.trigger(c.evtName,{scrollPos:c.scrollPos,distToBottom:b,scrollDirection:a}))},destroy:function(){var b=this._config.bindToWindow?"window":this._$el.attr("id"),a=this.registry[b];"undefined"!==typeof a&&(f.off(a.evtName),delete this.registry[b]);this._$el.off("scroll.scoller")}}});d.exports("Scroller",h)})(window.LIModules);(function(b){function g(a,c,h,b,e,d){a=a&&"object"===typeof a?a:{message:a,type:c,node:h,animate:b,dismissable:e,dismissMsg:d};a.node&&"string"===typeof a.node&&(a.node=document.getElementById(a.node));return a}if(!window.LI||!window.LI.injectAlert){var f=b&&b.alertManager,d;d=f?{create:f.injectAlert,remove:f.removeAlert}:{create:function(a){var c=a.node||document.createElement("div"),h=a.message||"",b=a.type||"error",e=!!a.animate,d=!!a.dismissable,f=a.dismissMsg||"";c.innerHTML="";c.appendChild(this._buildNode(b,
h,f,d));e&&a.node&&this.animate(a);d&&!a.disableDismissHandler&&c.addEventListener("click",function(a){a.target.classList.contains("dismiss")&&(a.preventDefault(),this.remove(c,e))}.bind(this));return c},remove:function(a,c){c?this.animate({node:a,shouldRemove:!0,callback:function(){a.innerHTML=""}}):a.innerHTML=""},animate:function(a){if(!a.node)throw Error("you must provide a node");var c=a.node,b=a.callback,d=a.shouldRemove;c.length?Array.prototype.forEach.call(c,function(a){this._determineAnimation(a,
b,d)}.bind(this)):this._determineAnimation(c,b,d)},_buildNode:function(a,c,b,d){var e=document.createElement("div");e.className="alert "+a;e.setAttribute("role","alert");e.innerHTML=c;d&&(a=document.createElement("button"),a.className="dismiss",a.setAttribute("type","button"),a.setAttribute("id","dismiss-alert"),b&&(a.innerHTML=b),e.appendChild(a));return e},_determineAnimation:function(a,c,b){a.firstChild&&a.firstChild.classList.add(b?"animate-out":"animate-in");"function"===typeof c&&c()}};b={injectAlert:function(){var a=
g.apply(this,arguments),b=d.create.call(d,a);return f?b:a.node},removeAlert:d.remove.bind(d),showMobileError:function(){var a=g.apply(this,arguments);a.message&&window.alert(a.message)}};b.injectAlert.normalizeInterface=g;LIModules.exports("alertManager",b);LIModules.exports("injectAlert",b.injectAlert);LIModules.exports("removeAlert",b.removeAlert);LIModules.exports("showMobileError",b.showMobileError)}})(window.globalNav);(function(){var M=LIModules.requires("jquery"),m=LIModules.requires("underscore");LIModules.exports("Mixins.TooltipPosition",function(ca){var g,h,w,v,x,N,D,s,n,t,p,u,q,E;g={BOTTOM:"bottom",BOTTOM_RIGHT:"bottomRight",BOTTOM_LEFT:"bottomLeft",TOP:"top",TOP_RIGHT:"topRight",TOP_LEFT:"topLeft",RIGHT:"right",LEFT:"left"};h={top:!0,bottom:!0,left:!0,right:!0};w={vertical:!1,horizontal:!1};N=x=v=null;D={};s=null;n={};t=null;p={};u=null;q={};E=null;var U=function(){return h.left&&h.right?!0:!h.left&&h.right?
!0:!1},V=function(a,e){var c;b("jquery",a,"flipHorizontal","$element");b("direction",e,"flipHorizontal","startDirection");b("direction",e,"getHorizontalOpposite","direction");c=D[e].opposites.horizontalOpposite;O(c);P(a,c);return c},W=function(a,e){var c;b("jquery",a,"flipVertical","$element");b("direction",e,"flipVertical","startDirection");b("direction",e,"getVerticalOpposite","direction");c=D[e].opposites.verticalOpposite;O(c);P(a,c);return c},k=function(a,e){b("number",a,"generateOffsetObject",
"left");b("number",e,"generateOffsetObject","top");return{top:e,left:a}},X=function(a,e){var c,f;b("jquery",a,"getAlignedVerticalMiddleLeftOffset","$base");b("jquery",e,"getAlignedVerticalMiddleLeftOffset",e);c=Q(a);f=y(e);return c-f/2},I=function(a){b("jquery",a,"getBottomOffset","$element");return z(a)+R(a)},S=function(){var a,e;b("number",q.bottomMiddle.top,"getBottomPositionCalc","triggerElementOutline.bottomMiddle.top");b("jquery",u,"getBottomPositionCalc","$triggerElement");b("jquery",t,"getBottomPositionCalc",
"$tooltip");a=q.bottomMiddle.top;e=X(u,t);return k(e,a)},J=function(a){var e;b("jquery",a,"getDimensions","$element");e=y(a);a=R(a);return{width:e,height:a}},R=function(a){b("jquery",a,"getHeight","$element");return a.outerHeight()},A=function(a){b("jquery",a,"getLeftOffset","$element");return a.offset().left},Q=function(a){b("jquery",a,"getMiddleXCoord","$element");return A(a)+y(a)/2},Y=function(a){b("jquery",a,"getMiddleYCoord","$element");return z(a)+R(a)/2},K=function(a){b("jquery",a,"getRightOffset",
"$element");return A(a)+y(a)},z=function(a){b("jquery",a,"getTopOffset","$element");return a.offset().top},T=function(){var a,e;b("jquery",u,"getTopPositionCalc","$triggerElement");b("jquery",t,"getTopPositionCalc","$tooltip");a=u;e=p.dimensions.height;b("jquery",a,"getPositionedAboveTopOffset","$base");b("number",e,"getPositionedAboveTopOffset","elementHeight");a=z(a)-e;e=X(u,t);return k(e,a)},Z=function(a){var e;b("jquery",a,"getTopRightCoords","$element");e=z(a);a=K(a);return k(a,e)},y=function(a){b("jquery",
a,"getWidth","$element");return a.outerWidth()},O=function(a){b("direction",a,"setDisplayDirection","newDirection");N=a},$=function(a,e){b("jquery",a,"setLeftOffset","$element");b("number",e,"setLeftOffset","offsetAmount");a.offset({left:e})},P=function(a,e){var c;b("jquery",a,"setPosition","$element");e?(c=e,b("direction",e,"setPosition","direction",!1)):c=x;var f=c,d;f?b("direction",f,"setTooltipCoords","direction",!1):f=x;switch(f){case g.TOP:d=T();break;case g.TOP_RIGHT:d=T();break;case g.TOP_LEFT:d=
T();break;case g.BOTTOM:d=S();break;case g.BOTTOM_LEFT:d=S();break;case g.BOTTOM_RIGHT:d=S();break;case g.LEFT:b("number",q.leftMiddle.top,"getLeftPositionCalc","triggerElementOutline.leftMiddle.top");b("number",p.dimensions.height,"getLeftPositionCalc","tooltipOutline.dimensions.height");b("jquery",u,"getLeftPositionCalc","$triggerElement");b("number",p.dimensions.width,"getLeftPositionCalc","tooltipOutline.dimensions.width");d=q.leftMiddle.top-p.dimensions.height/2;var f=u,h=p.dimensions.width;
b("jquery",f,"getPositionedLeftLeftOffset","$base");b("number",h,"getPositionedLeftLeftOffset","elementWidth");f=A(f)-h;d=k(f,d);break;case g.RIGHT:b("number",q.rightMiddle.top,"getRightPositionCalc","triggerElementOutline.rightMiddle.top"),b("number",q.topMiddle.left,"getRightPositionCalc","triggerElementOutline.topMiddle.left"),b("number",p.dimensions.height,"getRightPositionCalc","tooltipOutline.dimensions.height"),b("number",q.dimensions.width,"getRightPositionCalc","triggerElementOutline.dimensions.width"),
d=k(q.rightMiddle.left,q.rightMiddle.top-p.dimensions.height/2)}f=t;b("jquery",f,"setOffsets","$element");b("number",d.left,"setOffsets","coordObj.left");b("number",d.top,"setOffsets","coordObj.top");$(f,d.left);aa(f,d.top);d=c;b("jquery",a,"addExtraOffsets","$element");d?b("direction",d,"addExtraOffsets","direction",!1):d=x;c=D[d].offsetVert;d=D[d].offsetHoriz;b("jquery",a,"shiftVertical","$element");b("number",c,"shiftVertical","amount");c=z(a)-c;aa(a,c);b("jquery",a,"shiftHorizontal","$element");
b("number",d,"shiftHorizontal","amount");c=A(a)+d;$(a,c)},aa=function(a,e){b("jquery",a,"setTopOffset","$element");b("number",e,"setTopOffset","offsetAmount");a.offset({top:e})},b=function(a,b,c,f,d){L("name",f,"validate");L("funcName",c,"validate");!1!==d&&L(f,b,c);switch(a){case "jquery":ba(f,b,c);break;case "number":if(!m.isNumber(b))throw f+" needs to be a number in function "+c;break;case "direction":L("direction",b,"isValidDirectionValue");a=m.values(g);if(!m.contains(a,b))throw b+" needs to be a supported direction in function "+
c;break;case "dom":if(ba(f,b,c),1>M("html").find(b).length)throw f+" needs to be in the DOM for function "+c;}},ba=function(a,b,c){if(!b instanceof jQuery)throw a+" needs to be a jQuery object in function "+c;},L=function(a,b,c){if(m.isUndefined(b)||m.isNull(b))throw a+" is required for function "+c;};return{DIRECTIONS:g,calculatePosition:function(a,e){b("dom",a,"calculatePosition","tooltip");b("dom",e,"calculatePosition","triggerElement");v=this._config;b("jquery",a,"initialize","tooltip");b("jquery",
e,"initialize","triggerElement");t=a;u=e;n[g.TOP]={verticalOpposite:g.BOTTOM,horizontalOpposite:g.TOP};n[g.TOP_RIGHT]={verticalOpposite:g.BOTTOM_RIGHT,horizontalOpposite:g.TOP_LEFT};n[g.TOP_LEFT]={verticalOpposite:g.BOTTOM_LEFT,horizontalOpposite:g.TOP_RIGHT};n[g.BOTTOM]={verticalOpposite:g.TOP,horizontalOpposite:g.BOTTOM};n[g.BOTTOM_RIGHT]={verticalOpposite:g.TOP_RIGHT,horizontalOpposite:g.BOTTOM_LEFT};n[g.BOTTOM_LEFT]={verticalOpposite:g.TOP_LEFT,horizontalOpposite:g.BOTTOM_RIGHT};n[g.LEFT]={verticalOpposite:g.LEFT,
horizontalOpposite:g.RIGHT};n[g.RIGHT]={verticalOpposite:g.RIGHT,horizontalOpposite:g.LEFT};var c,f,d;if(m.isEmpty(n))throw"You must initialize OPPOSITES before calling buildDisplayDirectionsObject";c=m.keys(g);d=c.length;for(var B=0;B<d;B++){f=c[B];f=g[f];var r=void 0,C=void 0,l=void 0;b("direction",f,"addToDisplayDirections","direction");C=r=0;m.isObject(v)&&m.isObject(v.directions)&&v.directions[f]&&(l=v.directions[f]);l&&(l.offsetVert&&(C=l.offsetVert),l.offsetHoriz&&(r=l.offsetHoriz));D[f]={offsetHoriz:r,
offsetVert:C,opposites:n[f]}}c=u;b("jquery",c,"buildOutlineObject","$element");d=J(c);B=Z(c);b("jquery",c,"getTopMidpoint","$element");f=Q(c);r=z(c);f=k(f,r);r=Z(c);b("jquery",c,"getLeftMidpoint","$element");var C=Y(c),l=A(c),C=k(l,C),F;b("jquery",c,"getBottomLeftCoords","$element");F=A(c);var l=I(c),l=k(F,l),G;b("jquery",c,"getBottomMidpoint","$element");G=Q(c);F=I(c);F=k(G,F);var H;b("jquery",c,"getBottomRightCoords","$element");H=K(c);G=I(c);G=k(H,G);var y;b("jquery",c,"getRightMidpoint","$element");
H=Y(c);y=K(c);H=k(y,H);q={$el:c,dimensions:d,topLeft:B,topMiddle:f,topRight:r,leftMiddle:C,bottomLeft:l,bottomMiddle:F,bottomRight:G,rightMiddle:H};x=m.isObject(v)&&v.defaultDirection?v.defaultDirection:g.TOP;O(x);p.dimensions||(p.dimensions=J(t));E=J(M(window));d=M(document);c=d.scrollTop();d=d.scrollLeft();s=k(d,c);P(a);c=t;b("jquery",c,"fitsOnScreen","$element");b("jquery",c,"setFits","$element");b("jquery",c,"fitsTop","$element");b("number",80,"fitsTop","HEADER_HEIGHT");b("number",s.top,"fitsTop",
"docScrollPosition.top");d=z(c)-80>s.top?!0:!1;h.top=d;b("jquery",c,"fitsLeft","$element");b("number",E.height,"fitsLeft","viewportDimensions.height");b("number",s.top,"fitsLeft","docScrollPosition.top");d=I(c)<s.top+E.height?!0:!1;h.bottom=d;b("jquery",c,"fitsLeft","$element");b("number",s.left,"fitsLeft","docScrollPosition.left");d=A(c)>s.left?!0:!1;h.left=d;b("jquery",c,"fitsRight","$element");b("number",s.left,"fitsRight","docScrollPosition.left");b("number",E.width,"fitsRight","viewportDimensions.width");
c=K(c)<s.left+E.width?!0:!1;h.right=c;f=!0;c=m.keys(h);B=c.length;for(r=0;r<B;r++)if(d=c[r],!h[d]){f=!1;break}f||((c=t,d=void 0,b("jquery",c,"flip","$element"),d?b("direction",d,"flip","startDirection",!1):d=x,w.horizontal=!1,w.vertical=!1,U()||h.top&&h.bottom)?U()?h.top&&h.bottom||(W(c,d),w.vertical=!0):(V(c,d),w.horizontal=!0):(d=W(c,d),V(c,d),w.horizontal=!0,w.vertical=!0))},getDisplayDirection:function(){return N},getFlipped:function(){return w},removeOffsets:function(a){b("jquery",a,"removeOffsets",
"$element");a.css({top:"",left:""})},setTooltipDimensions:function(a){b("jquery",a,"setTooltipDimensions","$element");p.dimensions=J(a)}}})})();(function(){var c=LIModules.requires("BaseControl");LIModules.imports("Tooltip");var h=LIModules.requires("jquery"),f=LIModules.requires("underscore"),c=c.extend(function(c){var d,g;g="id delayOpen delayClose doAnimate direction isFlippable offsetExtra offsetX offsetY type width overlayClasses".split(" ");d={dataAttribute:"li-tooltip-id",dependencies:["scripts/shared/Tooltip"]};return{beforeDecoration:function(){this._config=f.defaults(this._config,d);this._tooltipList={}},attachEventListeners:function(){this._$el.on("mouseover focus",
this._getSelectorString(),this._instantiateTooltip)},_getFullDataAttribute:function(){return"data-"+this._config.dataAttribute},_getSelectorString:function(){return"["+this._getFullDataAttribute()+"]"},_instantiateTooltip:function(b){var a=this._getFullDataAttribute(),e=h(b.target),c=e.attr(a)?e:e.closest(this._getSelectorString()),a=c.attr(a),d={};f.each(g,function(a){var b;b="tooltip"+a.charAt(0).toUpperCase()+a.slice(1);b=c.data(b);void 0!==b&&(d[a]=b)});e=jQuery.extend({},this._config,{tooltipContentID:a},
d);if(a&&!this._tooltipList[a]){var k=LIModules.imports("Tooltip");this._tooltipList[a]=new k(c,e);this._tooltipList[a].isReady.then(function(){c.triggerHandler(b.type)})}},detachEventListeners:function(){this._$el.off("mouseover focus",this._getSelectorString(),this._instantiateTooltip)},destroy:function(){this.detachEventListeners();for(var b in this._tooltipList)this._tooltipList[b].destroy(),delete this._tooltipList[b]}}});LIModules.exports("TooltipFactory",c)})();(function(){var h=LIModules.requires("jquery"),m=LIModules.requires("underscore"),k;k=LIModules.requires("BaseControl").extend(function(k){var l;l={tooltipConfig:{},triggerElSelector:".miniprofile",cacheKeyAttribute:"data-li-url"};return{afterInit:function(){if(!this._config.tooltipControl)throw"you must provide a tooltip JSControl to manage e.g. { tooltipControl: SomeCompatibleTooltipControl }";},attachEventListeners:function(){var d=this._config,e=this._$el;e.on("mouseover focus",d.triggerElSelector,
this.handleTriggerElementMouseOver);e.on("mouseout blur",d.triggerElSelector,this.handleTriggerElementMouseOut);e.on("keyup",d.triggerElSelector,this.handleKeyUp);e.on("keydown",d.triggerElSelector,this.handleKeyDown)},beforeDecoration:function(){var d,e,f,g,c;f=this;f._config=m.defaults(f._config,l);e=d=null;g={};c={cache:{isCached:function(a){return g[a]?!0:!1},get:function(a){return g[a]},getCache:function(){return g},set:function(a,b){g[a]=b}},events:{handleKeyDown:function(a){9===a.keyCode&&
a.shiftKey&&c.events.handleTriggerElementMouseOut(a)},handleKeyUp:function(a){27===a.keyCode&&c.events.handleTriggerElementMouseOut(a)},handleTriggerElementMouseOut:function(a){var b;b=h(a.currentTarget).attr(f._config.cacheKeyAttribute);c.cache.isCached(b)&&(b=c.cache.get(b),b.hide(a))},handleTriggerElementMouseOver:function(a){d=h(a.currentTarget);"focusin"===a.type?c.tooltip.show(a):c.tooltip.hideLast(a).then(c.tooltip.show(a))}},tooltip:{hideLast:function(a){var b=new h.Deferred;return e?e.hide(a):
b.resolve().promise()},init:function(a){var b;b=f._config;b=new b.tooltipControl(d,b.tooltipConfig);c.cache.set(a,b);return b},show:function(a){var b;b=d.attr(f._config.cacheKeyAttribute);c.cache.isCached(b)?(b=c.cache.get(b),b._$el=d):b=c.tooltip.init(b);e=b;b.show(a)}}};window.tooltipManagerUnitTest&&(f.helpers=c);this.getCache=c.cache.getCache;this.handleTriggerElementMouseOver=c.events.handleTriggerElementMouseOver;this.handleTriggerElementMouseOut=c.events.handleTriggerElementMouseOut;this.handleKeyUp=
c.events.handleKeyUp;this.handleKeyDown=c.events.handleKeyDown},detachEventListeners:function(){var d=this._config,e=this._$el;e.off("mouseover focus",d.triggerElSelector,this.handleTriggerElementMouseOver);e.off("mouseout blur",d.triggerElSelector,this.handleTriggerElementMouseOut);e.off("keyup",d.triggerElSelector,this.handleKeyUp);e.off("keydown",d.triggerElSelector,this.handleKeyDown)}}});LIModules.exports("TooltipManager",k)})();(function(){var f=LIModules.requires("jquery"),k=LIModules.requires("underscore"),D=LIModules.requires("fiber"),q=LIModules.requires("BaseControl"),l=LIModules.imports("jSecure"),h=l&&(l.htmlEncode||l.text)||LIModules.requires("htmlEncode"),l=LIModules.requires("Mixins.TooltipPosition"),q=q.extend(function(l){var q,A,B;q={idAttribute:"data-li-url",containerID:"lui-mini-profile-body",defaultDirection:"topRight",directions:{topRight:{offsetHoriz:80,offsetVert:10},bottomRight:{offsetHoriz:80,offsetVert:-10},
topLeft:{offsetHoriz:-115,offsetVert:10},bottomLeft:{offsetHoriz:-115,offsetVert:-10}},nameKey:"full_name",contentClassName:"new-miniprofile-content",zIndex:1007,templateName:"tl/shared/profile/miniprofile_shell",urlAttribute:"data-li-url",showDelay:500,hideDelay:400};A={idAttribute:"data-li-url",containerID:"lui-mini-profile-body",defaultDirection:"topRight",directions:{topRight:{offsetHoriz:105,offsetVert:12},bottomRight:{offsetHoriz:105,offsetVert:-14},topLeft:{offsetHoriz:-120,offsetVert:12},
bottomLeft:{offsetHoriz:-120,offsetVert:-14}},nameKey:"full_name",contentClassName:"company-miniprofile-content",zIndex:1007,templateName:"tl/shared/profile/company_miniprofile",urlAttribute:"data-li-url",showDelay:500,hideDelay:400};B={idAttribute:"data-li-url",containerID:"lui-mini-profile-body",defaultDirection:"topRight",directions:{topRight:{offsetHoriz:105,offsetVert:12},bottomRight:{offsetHoriz:105,offsetVert:-14},topLeft:{offsetHoriz:-120,offsetVert:12},bottomLeft:{offsetHoriz:-120,offsetVert:-14}},
nameKey:"full_name",contentClassName:"school-miniprofile-content",zIndex:1007,templateName:"tl/apps/plato/embed/home/school_mini_profile",urlAttribute:"data-li-url",showDelay:500,hideDelay:400};return{beforeDecoration:function(){var d,c,l,p,e,s,w,r,t,u,v,x,y,C,b,m,z;b=this;z=b._$el.attr("data-miniprofile-type");switch(z){case "company":b._config=f.extend(!0,{},A,b._config);break;case "school":b._config=f.extend(!0,{},B,b._config);break;default:b._config=f.extend(!0,{},q,b._config)}C=this._$el.attr(this._config.idAttribute);
y=x=null;v=u=t=r=w=!1;d={directions:{top:!1,bottom:!1,right:!1,left:!1},addClasses:function(){var a=[],n=k.keys(d.directions),b=n.length,g,c=0,f=n.join(" ");for(c;c<b;c++)g=n[c],!0===d.directions[g]&&a.push(g);e.get().find(".triangle").removeClass(f).addClass(a.join(" "))},resetDirections:function(){var a=k.keys(d.directions),n=a.length,b=0,c;for(b;b<n;b++)c=a[b],k.isBoolean(d.directions[c])&&(d.directions[c]=!1)},setDirections:function(){switch(b.getDisplayDirection()){case b.DIRECTIONS.BOTTOM_RIGHT:d.setDirectionFlags(b.DIRECTIONS.BOTTOM,
b.DIRECTIONS.RIGHT);break;case b.DIRECTIONS.TOP_LEFT:d.setDirectionFlags(b.DIRECTIONS.TOP,b.DIRECTIONS.LEFT);break;case b.DIRECTIONS.BOTTOM_LEFT:d.setDirectionFlags(b.DIRECTIONS.BOTTOM,b.DIRECTIONS.LEFT);break;case b.DIRECTIONS.TOP_RIGHT:d.setDirectionFlags(b.DIRECTIONS.TOP,b.DIRECTIONS.RIGHT)}},setDirectionFlags:function(){var a=0,b,c=arguments.length;d.resetDirections();for(a=0;a<c;a++)b=arguments[a],k.isUndefined(b)||k.isUndefined(d.directions[b])||k.isNull(d.directions[b])||(d.directions[b]=!0)},
setPosition:function(){d.setDirections();d.addClasses()}};c={addProfile:function(){b.getContainer().html(e.get());b.getContainer().attr("aria-label",e.getName())},build:function(){var a=b._config,n;n=f('\x3cdiv role\x3d"tooltip" /\x3e');n.attr("id",a.containerID).css("z-index",a.zIndex);f("body").append(n);c.set(n);c.hide();return n},get:function(){return y},hide:function(){b.removeOffsets(b.getContainer());b.getContainer().addClass("offscreen");b.detachEventListeners();u=!1},hideWithTriggerEl:function(){c.outOfTabFlow();
c.hide()},immediateClose:function(){t=!1;c.hide()},inDOM:function(){return 0<f("#"+b._config.containerID).length},lazyBuild:function(){var a;c.inDOM()?(a=f("#"+b._config.containerID),c.set(a)):c.build()},outOfTabFlow:function(){f("body").append(b.getContainer())},nextToTrigger:function(){return 0<b._$el.next("#"+b._config.containerID).length},set:function(a){y=a},show:function(){c.nextToTrigger()||f("body").append(b.getContainer());p.attachEventListeners();b.getContainer().removeClass("offscreen");
u=!0;b.getContainer().attr("tabIndex",-1)}};l={encodeCompanyData:function(a){a.company.name=h(a.company.name);a.company.description=h(a.company.description);k.isObject(a.employees)&&k.each(a.employees,function(b,c){a.employees[c].firstName=h(b.firstName);a.employees[c].lastName=h(b.lastName);a.employees[c].headline=h(b.headline)});return a},encodeSchoolData:function(a){a.schoolMiniProfile.title=h(a.schoolMiniProfile.title);a.schoolMiniProfile.description=h(a.schoolMiniProfile.description);k.isObject(a.alumni)&&
k.each(a.alumni,function(b,c){a.alumni[c].firstName=h(b.firstName);a.alumni[c].lastName=h(b.lastName);a.alumni[c].headline=h(b.headline)});return a},encodeMemberData:function(a){var b=a.content.MiniProfile,c,g=0;b.full_name=h(b.full_name);b.mini_profile.fmt__trunc_headline=h(b.mini_profile.fmt__trunc_headline);b.mini_profile.headline=h(b.mini_profile.headline);if(k.isObject(b.sorted_shared_connections)&&k.isArray(b.sorted_shared_connections.sortedSharedConnections))for(b=b.sorted_shared_connections.sortedSharedConnections,
c=b.length,g;g<c;g++)b[g].full_name=h(b[g].full_name),b[g].headline=h(b[g].headline);return a.content},encodeProfileData:function(a){switch(z){case "company":a=l.encodeCompanyData(a);break;case "school":a=l.encodeSchoolData(a);break;default:a=l.encodeMemberData(a)}return a},getID:function(){return C}};p={attachEventListeners:function(){b.getContainer().on("mouseenter",p.handleProfileEnter).on("mouseleave",p.handleProfileMouseLeave);b.getContainer().on("keyup",p.handleProfileKeyup);b.getContainer().on("keydown",
p.handleProfileKeyDown)},handleMoreClick:function(a){window.location=b._$el.attr("href")},handleProfileMouseLeave:function(a){if(b._$el.is(":focus"))c.outOfTabFlow();else if(b.getContainer().find("a").is(":focus")){s.reverseFocus();return}c.immediateClose()},handleProfileKeyup:function(a){27===a.keyCode&&s.reverseFocus()},handleProfileKeyDown:function(a){var c=f(a.target),e=b.getContainer().find('a:not([tabindex\x3d"-1"])').first(),g=b.getContainer().find('a:not([tabindex\x3d"-1"]):last');c.is(e)&&
9===a.keyCode&&a.shiftKey?(a.preventDefault(),s.reverseFocus()):c.is(g)&&9===a.keyCode&&!a.shiftKey&&s.reverseFocus()},handleProfileEnter:function(a){t=!0},handleTriggerElBlur:function(a){u?b.getContainer().focus():r=!1},handleTriggerElEnter:function(a){if(v)v=!1;else return c.lazyBuild(),r=!0,m.show.start()},handleTriggerElExit:function(a){var b=new f.Deferred;c.lazyBuild();if(a&&"keyup"===a.type&&27===a.keyCode)c.hideWithTriggerEl();else if(a&&"keydown"===a.type&&9===a.keyCode&&a.shiftKey)c.hideWithTriggerEl();
else{if(a&&"focusout"===a.type)return p.handleTriggerElBlur(a),b.resolve().promise();r=!1;return m.hide.start()}}};e={name:null,addContent:function(a){e.get()?e.get().html(a):e.set(f(a))},build:function(a){w=!0;e.addContent(a);c.addProfile()},extractName:function(a){var c=k.keys(a),f=c.length,g=0,d,h,l;for(g;g<f;g++){d=c[g];h=a[d];if(d===b._config.nameKey){l=h;break}k.isObject(h)&&(l=e.extractName(h))}return l},get:function(){return x},getName:function(){return e.name},initLoad:function(){return e.load().then(e.loadSuccess,
function(){throw"profile failed to load";})},load:function(){var a=f.Deferred();return w?(c.addProfile(),a.resolve(),a.promise()):e.loadFromServer().then(e.build)},loadFromServer:function(){var a=b._$el.attr(b._config.urlAttribute);return f.ajax({type:"GET",url:a,headers:{"X-IsAJAXForm":1},dataType:"json"}).then(e.render,function(a){throw a;})},loadSuccess:function(){var a=b.getContainer();a.children().length&&(b.setTooltipDimensions(e.get()),b.calculatePosition(a,b._$el),d.setPosition(),c.show())},
render:function(a){var c=b._config.templateName,d=f.Deferred(),g;a=l.encodeProfileData(a);g=e.extractName(a);e.setName(g);dust.render(c,a,function(a,b){a&&d.reject(a);d.resolve(b)});return d.promise()},set:function(a){x=a},setName:function(a){e.name=a}};s={reverseFocus:function(){c.immediateClose();c.outOfTabFlow();v=!0;b._$el.focus()}};m={show:{id:null,start:function(a){var c=f.Deferred(),d=b._config.showDelay;k.isUndefined(a)||k.isNull(a)||(d=a);m.clearTimer(m.show);m.show.id=setTimeout(function(){m.show.callback(c)},
d);return c.promise()},callback:function(a){r?e.initLoad().then(function(){a.resolve()},function(){a.reject()}):a.resolve()}},hide:{id:null,start:function(){var a=f.Deferred();m.clearAll();if(t||!e.get())return a.resolve().promise();m.hide.id=setTimeout(function(){m.hide.callback(a)},b._config.hideDelay);return a.promise()},callback:function(a){t||r||c.hide();a.resolve()}},clearTimer:function(a){clearTimeout(a.id);a.id=null},clearAll:function(){for(var a=k.keys(m),b,c,d=a.length,e=0;e<d;e++)b=a[e],
c=m[b],k.isObject(c)&&m.clearTimer(b)}};this.getContainer=c.get;this.hide=p.handleTriggerElExit;this.show=p.handleTriggerElEnter;this.getID=l.getID},detachEventListeners:function(){this.getContainer().off("mouseenter").off("mouseleave")}}});D.mixin(q,l);LIModules.exports("MiniProfilePopup",q)})();function WebTrack(){function l(a){var e="",b=[],c;if("string"===typeof a)e=a;else if("object"===typeof a){for(c in a)b.push(c+":"+a[c]);e=b.join("|")}return e}var k=LIModules.requires("jquery"),m=(LIModules.imports("jsConfig")||{get:function(){}}).get("URLs","WebTracking"),h="undefined"!==typeof WebTracking&&WebTracking.saveWebActionTrackURL||m.saveWebActionTrackURL||"";this.getPageKey=function(){return document.body.id?document.body.id.substring(8):""};this.createRequestData=function(a,e,b,c,g){var d=
["pkey\x3d"+escape(this.getPageKey())];d.push("tcode\x3d"+escape(a));d.push("plist\x3d"+escape(l(e)));"string"===typeof c&&d.push("cId\x3d"+escape(c));"undefined"!==typeof b&&b&&d.push("prefix\x3dfalse");"undefined"!==typeof g&&g&&d.push("evt\x3d"+escape(g));return d.join("\x26")};this.track=function(a){if(h)return k.ajax({type:"POST",headers:{"X-IsAJAXForm":1},url:h,data:a})};this.trackUserAction=function(a,e,b,c,g){if(h)return a=WebTracking.createRequestData(a,e,b,c,g),this.track(a)};this.trackUserImpression=
function(a,e,b,c){return this.trackUserAction(a,e,b,c,"imp")};this.trackWithCallback=function(a,e,b,c,g,d){var f;h?(a=this.createRequestData(a,e,g,d),f={custom:{exception:function(){return!1}},timeout:3E3},"undefined"!==typeof b&&null!==b&&(f.success=b),"undefined"!==typeof c&&null!==c&&(f.failure=c,f.custom.exception=c),k.ajax({type:"POST",headers:{"X-IsAJAXForm":1},url:h,data:a,success:function(){null!=f.success&&f.success()},error:function(){null!=f.failure&&f.failure()}})):b&&b()};this.trackBeforeNavigation=
function(a,e,b,c,g){var d,f=function(){window.location.href=e};h?(a=this.createRequestData(a,b,c,g),d={success:f,failure:f,custom:{exception:function(){return!1}},timeout:3E3},k.ajax({type:"POST",headers:{"X-IsAJAXForm":1},url:h,data:a,success:function(){null!=d.success&&d.success()},error:function(){null!=d.failure&&d.failure()}})):f()}}window.WebTracking=new WebTrack;(function(){var a=LIModules.requires("jquery"),b=LIModules.imports("Dropdown"),a=a(".page-header .dropdown");b&&0<a.length&&new b(a,{triggerSelector:".dropdown-trigger"})})();(function(){var g=LIModules.requires("jQuery"),D=LIModules.requires("dust"),c=LIModules.requires("i18n"),h=LIModules.requires("Events"),E=LIModules.imports("ModalDialogBox"),s=LIModules.requires("WebTracking"),k=LIModules.requires("globalNav"),F="tl/apps/people/manager/confirm_dialog",z="top-scrolled",t="animate-up",u="animate-down",G=!1,H=g("#header-banner").height(),I=g("#header-navigation").height(),f=function(v){function J(a){a.preventDefault();h.trigger(f.events.submit);s.trackUserAction(w+"_continue");
x=!0;m.close();l.submit()}function K(){h.trigger(f.events.cancel);p.prop("disabled",!1);s.trackUserAction(w+"_cancel");m.close()}function L(a,b){if(!G)return g.ajax({type:"POST",url:a,data:b});var d=g.Deferred();d.resolve();return d.promise()}function M(a,b){h.trigger(f.events.submit);L(a,b.serialized).done(function(a){h.trigger(f.events.submitSuccess,b.ids);A(0)}).fail(function(a){h.trigger(f.events.submitFailure,a);p.prop("disabled",!1)}).always(function(){h.trigger(f.events.submitComplete);x=!1})}
function N(){var a=1===y?"i18nConfirmSingular":"i18nConfirmPlural";return{i18nDialogContinue:c.get("i18nDialogContinue"),i18nDialogCancel:c.get("i18nDialogCancel"),i18nDialogText:c.get(a,y)}}function O(){var a=g.Deferred();D.render(F,N(),function(b,d){d?a.resolve(d):a.reject(b)});return a.promise()}function P(){var a,b;b={title:c.get("i18nSubmitDefault"),closeText:c.get("i18nDialogCancel"),startText:c.get("i18nDialogStart"),endText:c.get("i18nDialogEnd"),dialogCss:[]};a=new E(g(),b);a.before("open",
function(){a._requiredTemplates=[]});a.after("_attachEventListeners",function(){a._$dialog.on("click",".cancel-btn",g.proxy(a._eventClose,a));a._$dialog.on("click",".submit-btn",J)});a.after("_eventClose",K);a.clobber("_loadContent",O);return a}function A(a){var b=0===a,d=c.get("i18nSubmitDefault");1===a?d=c.get("i18nSubmitSingular",a):1<a&&(d=c.get("i18nSubmitPlural",a));p.prop("disabled",b).text(d)}function Q(){q&&e.removeClass(u).addClass(t);r&&(q=!0)}function R(){e.addClass(u).removeClass(t);
r&&(q=!0)}function S(a){a.scrollPos>=(k.subNav.getState().collapsed?B:T)?(r=!0,e.addClass(z)):(q=r=!1,e.removeClass(z).removeClass(u+" "+t))}var l=v.form,C=v.scroller||{},p=l.find(".submit-button"),e=l.find(".formbox:first"),w=v.trackingKey,x=!1,r=!1,q=!1,y=0,B=(e.offset()||{top:0}).top-H,T=B-I,m;l.on("submit",function(a){for(var b=g(a.target),d=b.attr("action"),b=b.serializeArray(),c=[],e=[],n,k=0,l=b.length;k<l;k++)n=b[k],"Ids"!==n.name?c.push(n.name+"\x3d"+n.value):e.push(n.value);y=e.length;c.push("Ids\x3d"+
e.join(","));b={serialized:c.join("\x26"),ids:e};a.preventDefault();p.prop("disabled",!0);x?M(d,b):(m||(m=P()),h.trigger(f.events.open),s.trackUserAction(w),m.open())});if(C.getEvtName)h.on(C.getEvtName(),S);k.subNav&&(k.subNav.onWillAnimateUp(Q),k.subNav.onWillAnimateDown(R));return{updateSubmitButton:A}};f.events={open:"ContactsAndSentInvitesForm:OPEN",cancel:"ContactsAndSentInvitesForm:CANCEL","continue":"ContactsAndSentInvitesForm:CONTINUE",submit:"ContactsAndSentInvitesForm:SUBMIT",submitComplete:"ContactsAndSentInvitesForm:SUBMIT_COMPLETE",
submitSuccess:"ContactsAndSentInvitesForm:SUBMIT_SUCCESS",submitFailure:"ContactsAndSentInvitesForm:SUBMIT_FAILURE"};LIModules.exports("ContactsAndSentInvitesForm",f)})();(function(){function z(){A.showSpinner(p)}function B(){A.hideSpinner(p)}function K(a){a=C(a);q.scrollTop(0);L(a);0<a.length?(r=!1,d.pageNum++):M.find(".no-result").removeClass("hidden").end().find(".has-result").addClass("hidden")}function L(a){D.render(k.SECTIONS,{sections:a},function(a,g){a||s.html(g)})}function E(){return c.find(".entity-checkbox:checked")}function t(a){return a.find(".entity-checkbox")}function u(a,e){var g=e.length,b=e.filter(":checked").length,N=0<g,O=0<b,d=a.data("title"),
c=f.get("i18nSelectAll");O?c=f.get("i18nDeselectAllCount",{0:b,1:d}):N&&(c=f.get("i18nSelectAllCount",{0:g,1:d}));a.find(".section-select-all").html(P(c))}function C(a){return a&&a.content&&a.content.contacts_or_invites&&a.content.contacts_or_invites.sections||[]}function Q(a){var e=a&&a.header&&a.header.title?s.children('.section[data-title\x3d"'+a.header.title+'"]'):b(),g=b();a=a.people||[];var c=0<a.length,d=!1,f=[];0<e.length&&(g=e.find(".entity-row:last"),(d=1===g.find(".entityblock").length)&&
c&&f.push({$container:g,data:a.shift(),template:k.ENTITY}),f.push({$container:e.find(".people-list"),data:{people:a},template:k.ROWS}));return f}function R(a){for(var e=0,b=[],c,d=0,h=a.length;d<h;d++)c=a[d],0===d&&(b=b.concat(Q(c))),c.count&&(e+=c.count);0<b.length&&a.shift();0>=e&&(r=!0);b.push({$container:s,data:{i18n_select_all:f.get("i18nSelectAll"),sections:a},template:k.SECTIONS});return b}function S(a){var e=b.Deferred();D.render(a.template,a.data,function(b,c){b?e.reject(b):(a.html=c,e.resolve(a))});
return e.promise()}function T(a,b){var c=b.$container.closest(v);b.$container.append(b.html);0<c.length&&u(c,t(c))}function U(a){a=C(a);a=R(a);a=b.map(a,function(a){return S(a)});b.when.apply(b,a).then(function(){var a=Array.prototype.slice.call(arguments);b.each(a,T);d.pageNum++})}function F(){return l.scrollUrl?l.scrollUrl.replace("mock\x3dtrue","mock\x3dscroll"):""}function G(){p.children(".spinner").is(":visible")||V.toggleClass("hidden");w=!w}function x(){q.height()>=W.height()-H&&h.trigger(m.getEvtName(),
{distToBottom:0})}var b=LIModules.requires("jQuery"),D=LIModules.requires("dust"),h=LIModules.requires("Events"),f=LIModules.requires("i18n"),X=LIModules.requires("jsConfig"),A=LIModules.requires("Spinner"),Y=LIModules.requires("WebTracking"),Z=LIModules.requires("TooltipFactory"),$=LIModules.requires("MiniProfilePopup"),aa=LIModules.requires("TooltipManager"),ba=LIModules.requires("Scroller"),I=LIModules.requires("injectAlert"),n=LIModules.requires("ContactsAndSentInvitesForm"),P=LIModules.requires("jSecure").unsafe,
H=250,v=".section",k={ENTITY:"tl/apps/people/manager/entity_invite",ROWS:"tl/apps/people/manager/rows",SECTIONS:"tl/apps/people/manager/sections"},c=b("#contacts_and_invites_manager");b(".empty-message");var p=b("#content-container");b("#results-container");var s=b(".list-container:first"),V=b(".loading-more"),ca=b(".manage-import-form"),M=b(".formbox"),q=b(window),W=b(document),l=X.get("config","managerPage"),J=f.get("i18nDismissMessage"),da=f.get("i18nFailureMessage"),d={pageNum:1,pageSize:l.pageSize||
50},w=!1,r=!1,m,y;new Z(c,{direction:"top",delayOpen:10,dependencies:[],cssDependencies:[]});new aa(c,{tooltipControl:$,tooltipConfig:{defaultDirection:"topRight",directions:{topRight:{offsetVert:10,offsetHoriz:80},bottomRight:{offsetVert:-10,offsetHoriz:80},topLeft:{offsetVert:10,offsetHoriz:-115},bottomLeft:{offsetVert:-10,offsetHoriz:-115}}}});m=new ba(q,{bindToWindow:!0,throttle:!0});y=new n({form:ca,trackingKey:l.trackingKey,scroller:m});h.on(n.events.submit,z);h.on(n.events.submitSuccess,function(a){I({message:f.get("i18nSuccessMessage",
a.length),type:"success",dismissable:!0,dismissMsg:J,animate:!0,autoHide:!0});d.pageNum=0;z();b.get(F(),d).done(K).always(B).done(x)});h.on(n.events.submitFailure,function(){I({message:da,type:"error",dismissable:!0,dismissMsg:J,animate:!0,autoHide:!0});B()});h.on(m.getEvtName(),function(a){!r&&!w&&a.distToBottom<=H&&(G(),b.get(F(),d).done(U).always(G).done(x))});c.on("click",".section-select-all",function(a){a=b(a.currentTarget).closest(v);var c=t(a),d=0<c.filter(":checked").length;c.prop("checked",
!d);u(a,c);y.updateSubmitButton(E().length)});c.on("change",".entity-checkbox",function(a){a=b(a.currentTarget).closest(v);u(a,t(a));y.updateSubmitButton(E().length)});b("#top-ad-container").on("click",function(){Y.trackUserAction("hb-ad-top-0","")});x()})();